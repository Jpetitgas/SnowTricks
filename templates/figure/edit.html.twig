{% extends 'base.html.twig' %}

{% form_theme formView 'bootstrap_4_layout.html.twig' %}

{% block title %}Hello FigureController!
{% endblock %}

{% block body %}

	<div class="row">
		<div class="col">
			{{ form_start(formView) }}

			{{ form_widget(formView.name) }}
			{{ form_widget(formView.description) }}
			{{ form_widget(formView.type) }}
			{{ form_widget(formView.images) }}

			<h3>Image(s) liée(s) à cette figure</h3>
			<div class="row">
				{% for image in figure.images %}
					<div class="col">
						<img src="{{ asset('/images/main/'~ image.name)}}" alt="Image" width="150">
						<a href="{{path('figure_delete_image',{id: image.id})}}" data-delete data-token="{{csrf_token('delete'~ image.id)}}">supprimer</a>
						{% if image.main %}
							{{ form_widget(formView.main),{
								'class':"form-check-input",
								'type': "radio",
								 'name': "main",
								 'id': "{{image.id}}"
							} }}
							<input class="form-check-input" type="radio" name="main" id="{{image.id}}" checked>
						{% else %}
							<input class="form-check-input" type="radio" name="main" id="{{image.id}}">
						{% endif %}


					</div>
				{% endfor %}
			</div>
			<button type="submit" class="btn btn-lg btn-primary center">Modifier</button>
			{{ form_end(formView) }}
		</div>
	</div>


{% endblock %}
{% block javascripts %}
	<script src="{{ asset('/js/images.js')}}"></script>
{% endblock %}
